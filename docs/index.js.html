<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>index.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#fromNow">fromNow</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#pluckMap">pluckMap</a></li><li><a href="global.html#setTick">setTick</a></li><li><a href="global.html#toMap">toMap</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">index.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const oProto = Object.prototype
const toString = oProto.toString
const hasOwnProperty = oProto.hasOwnProperty

export const noop = () => {}
export const identity = _ => _

// type check
function isType (name) {
  return function (obj) {
    return toString.call(obj) === '[object ' + name + ']'
  }
}

/**
 * is Function or not
 * @param {*} params
 * @returns {boolean}
 */
export const isFunction = isType('Function')

/**
 * is Array or not
 * @param {*} params
 * @returns {boolean}
 */
export const isArray = isType('Array')

/**
 * turn a array to map
 * @param {array} collection
 * @param {string} key
 * @returns {map}
 */
const toMap = (collection, key) => {
  const res = new Map()
  for (let _ of collection) {
    res.set(_[key], _)
  }
  return res
}

/**
 *
 * @param {map} map
 * @param {string} key
 * @param {string} valueKey
 * @returns {*}
 */
const pluckMap = (map, key, valueKey) => {
  if (!map.has(key)) return
  let item = map.get(key)
  if (!valueKey) return item
  return item[valueKey]
}

/**
 *
 * @param {function} callback
 * @param {number} duration
 * @param {boolean} [first=true]
 * @returns {string} id
 */
const setTick = (fn, duration, first = true) => {
  first &amp;&amp; fn()
  let id = setInterval(fn, duration)
  return () => clearInterval(id)
}

/**
 *
 * @param {date} endTime
 * @returns {string}
 */
const fromNow = endTime => {
  let now = (new Date()).valueOf()
  let leftTime = (endTime - now) / 1000
  let res = []
  for (let divisor of [3600, 60, 1]) {
    let number = numberPrefix(parseInt(leftTime / divisor), 2)
    res.push(number)
    leftTime = leftTime % divisor
  }
  return res.join(':')
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Sep 17 2018 12:52:12 GMT+0800 (GMT+08:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>
